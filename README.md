# Тестирование калькулятора с использованием Appium
## Описание проекта

- Данный проект представляет собой автоматизированные тесты для калькулятора на платформе Android с использованием инструмента Appium.
- Тесты выполнялись в эмуляторе Genymotion. Во время разработки тестов был использован Page Object Pattern.
- Баг-репорт ручного тестирования: [Ссылка](https://docs.google.com/spreadsheets/d/15OHJ3IiAB1wL-OE3U9GDCUK2B1oIkd_vVUs99dGPLaY/edit?usp=sharing)

## Требования

### Для запуска проекта и выполнения тестов вам понадобятся следующие компоненты:

- [VirtualBox](https://www.oracle.com/virtualization/technologies/vm/downloads/virtualbox-downloads.html?source=:ow:o:p:nav:mmddyyVirtualBoxHero&intcmp=:ow:o:p:nav:mmddyyVirtualBoxHero): для запуска виртуальной машины, если необходимо использовать эмулятор Genymotion.
- [Genymotion](https://www.genymotion.com/download/): для запуска виртуального устройства Android, на котором будет тестироваться калькулятор.
- [Appium Server GUI](https://github.com/appium/appium-desktop/releases/): инструмент для автоматизации тестирования мобильных приложений.
- [Android SDK](https://developer.android.com/studio): для установки Android Studio и получения необходимых компонентов для разработки и тестирования Android-приложений.
- [Java SE Development Kit (JDK)](https://www.oracle.com/java/technologies/downloads/): для выполнения Java-кода и запуска Android-приложений.
- [Python](https://www.python.org/downloads/): для написания и запуска автоматизированных тестов.

### Инструкцию по установке всех этих инструментов можно найти на следующем сайте:
- https://moonz.pro/appium-genymotion-python-polnyj-gajd/
    
### Установка и запуск
- Выполните команду git clone, чтобы скопировать репозиторий:
    `git clone https://github.com/MishaPvl/Drom_testovoe.git`
- Создайте виртуальное окружение для проекта, используя команду: 
    `python -m venv myenv`
- Активируйте виртуальное окружение для проекта:
    `myenv\Scripts\activate`
- Установите зависимости проекта из файла requirements.txt, выполнив команду:
    `pip install -r requirements.txt`
- Настройте эмулятор и введите данные смартфона в `conftest.py`. В этом файле вы можете указать конфигурацию эмулятора, такую как IP-адрес и порт сервера `Appium`, а также данные смартфона, такие как имя устройства, версия Android и другие параметры.
- Запустите эмулятор в `Genymotion` или другой программе эмуляции Android-устройств и включите сервер Appium. Убедитесь, что эмулятор и сервер `Appium` работают корректно.
- Установите app-debug.apk на устройство. 
- Убедитесь, что вы находитесь в корневой папке проекта
- Запустите все тесты, выполнив следующую команду:
    `pytest -v tests`
- Эта команда запустит все тесты в папке tests и выведет подробный вывод о прохождении каждого теста.
    
### Настройки проекта
Для смены устройства необходимо зайти в файл conftest.py и сменить
   ```
   'platformName': 'Android',
   'deviceName': 'Google_Pixel_3_XL'
```
На нужные вам настройки.

### Структура проекта
1. `tests/`: Директория, содержащая автоматизированные тесты.
    - `test_addition.py` - Файл test_addition.py содержит тесты для операции сложения на калькуляторе.
    - `test_calculator_page.py` - Файл test_calculator_page.py содержит тесты, которые проверяют, что на странице калькулятора корректно отображаются все поля и кнопки.
    - `test_division.py` - Файл test_division.py содержит тесты для операции деления на калькуляторе.
    - 'test_input_fields.py' - Содержит набор тестов для проверки полей ввода на калькуляторе.
    - `test_multiplication.py` - Содержит тесты для операции умножения на калькуляторе.
    - `test_reset_button.py` - Содержит тесты для кнопки RESET на калькуляторе.
    - `test_result_field.py` - Файл test_result_field.py содержит тесты для проверки поля вывода результата калькулятора. В нем используется параметризация с различными значениями операндов для проверки различных сценариев.
    - `test_subtraction.py` - Файл test_subtraction.py содержит тесты для операции вычитания на калькуляторе.
2. `locators/`: Директория, содержащая локаторы.
    - `locators.py` - Этот файл содержит класс CalculatorLocators, который определяет локаторы элементов на странице калькулятора. Все локаторы были получены с помощью Appium Inspector.
3. `pages/`: Директория, содержащая основную логику работы со страницами.
    - `base_page.py` - Этот файл содержит базовый класс BasePage, который предоставляет общие методы для взаимодействия с элементами на странице, такие как поиск элементов, ввод текста, клик и т.д.
    - `calculator_page.py` - Этот файл содержит класс CalculatorPage, который наследуется от BasePage и представляет страницу конкретного калькулятора. Он определяет методы для выполнения операций на калькуляторе, проверки результатов и других взаимодействий с элементами на странице.
- `conftest.py` - Файл conftest.py содержит фикстуры, которые используются для настройки и предоставления ресурсов для тестов.

### Результат прохождения теста:
`55 failed, 141 passed`
- Стоит заметить, что большая часть проваленных тестов приходится на проверки функции '-'
- Помимо этого часть ошибок пришлась на то, что RESET не очищает поля вывода результата
- Остальные ошибки были из-за того, что калькулятор не умеет корректно работать и отображать числа начиная с восьмизначных